# Spring-Calendar API ê°œë°œ í”„ë¡œì íŠ¸

---
## ëª©ì°¨
### 1. ê°œë°œ ëª©ì 
### 2. ê°œë°œ ìš”êµ¬ì‚¬í•­
### 3. ê¸°ìˆ  ìŠ¤íƒ
### 4. íŒ¨í‚¤ì§• êµ¬ì¡°
### 5. í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
### 6. ì£¼ìš” ê¸°ëŠ¥
### 7. Postmanê³¼ í˜¸ìŠ¤íŠ¸ ì„œë²„ë¥¼ ì´ìš©í•œ ê²°ê³¼ë¬¼
### 8. ì¶”í›„ ê°œì„ ì‚¬í•­

---
## 1. ê°œë°œ ëª©ì 
#### ë‹¨ìˆœí•œ ê²Œì‹œíŒ ë˜ëŠ” TODO ë¦¬ìŠ¤íŠ¸ì™€ ê°™ì€ CRUD ê¸°ëŠ¥ì„ ìœ„í•œ APIë¥¼ ë„˜ì–´ì„œ ìƒëŒ€ë°©ê³¼ ê´€ê³„ë¥¼ ë§ºê³  ì°¨ë‹¨í•¨ê³¼ ë°°ì¹˜ ì‹œìŠ¤í…œì„ ì´ìš©í•˜ì—¬ í•  ì¼ì— ëŒ€í•œ ë©”ì¼ì„ ì´ì£¼ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê³  ì´í•´í•¨ì„ ëª©ì ìœ¼ë¡œ ê°œë°œí•˜ì˜€ìŠµë‹ˆë‹¤. ë˜í•œ ë„ë©”ì¸ ì„¤ê³„í•˜ëŠ” ë°©ë²•ì„ ê³ ë¯¼í•˜ê³  ìë°”ì˜ ì½”ë“œ ì¶”ìƒí™”ì™€ ì½”ë“œ ë¦¬íŒ©í† ë§ ì—°ìŠµë„ ëª©ì ìœ¼ë¡œ ë‘ì—ˆìŠµë‹ˆë‹¤.

--- 
## 2. ê°œë°œ ìš”êµ¬ì‚¬í•­
* #### 2-1. íšŒì› ğŸ‘¨â€ğŸ’¼
  * ê°„ë‹¨í•œ íšŒì›ê°€ì… ê¸°ëŠ¥(email, password, name, birthday)
  * ë¹„ë°€ë²ˆí˜¸ëŠ” ì•”í˜¸í™”í•˜ì—¬ ì €ì¥
  * ê°€ì…ì„ í•´ì•¼ ì„œë¹„ìŠ¤ ì´ìš© ê°€ëŠ¥
  * ìì‹ ì˜ ìº˜ë¦°ë”ë§Œ ì¡°íšŒ ê°€ëŠ¥
* #### 2-2. ì´ë²¤íŠ¸ ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦
  * ê¸°ê°„ìœ¼ë¡œ ë“±ë¡
  * ì°¸ì„ìëŠ” ì—¬ëŸ¬ëª… ê°€ëŠ¥
  * ë“±ë¡í•˜ë©´ ì°¸ì„ìì—ê²Œ ì´ˆëŒ€ ë©”ì¼ì´ ì „ì†¡
  * ë©”ì¼ì„ ë°›ì€ ì°¸ì„ìëŠ” ë©”ì¼ì„ í†µí•´ ìˆ˜ë½, ê±°ì ˆ ê°€ëŠ¥
  * ìˆ˜ë½ ì—¬ë¶€ íŒŒì•… ê°€ëŠ¥
  * ì‹œê°„ì´ ê²¹ì¹˜ì§€ ì•ŠëŠ” íšŒì›ë§Œ ì´ˆëŒ€ ê°€ëŠ¥
* #### 2-3. í•  ì¼ ğŸ“†
  * í•  ì¼ì€ ìì‹ ë§Œ ë“±ë¡ ê°€ëŠ¥
  * ì‹œê°„ ë“±ë¡ì€ ì„ íƒì , ë””í´íŠ¸ëŠ” ìì •
* #### 2-4. ì•Œë¦¼ â°
  * í•  ì¼ê³¼ ë¹„ìŠ·í•˜ë‚˜ ì•Œë¦¼ ë°˜ë³µê¸°ëŠ¥ì´ ì¶”ê°€
    * ë°˜ë³µê¸°ëŠ¥
      * ë°˜ë³µ ì£¼ê¸°ì— ë”°ë¼ ì…ë ¥ ë°ì´í„°ê°€ ë‹¤ë¦„(ì¼, ì£¼, ê°œì›”)
      * ë°˜ë³µ ì£¼ê¸°ëŠ” ì¼ë³„ë¡œë§Œ ì„¤ì • ê°€ëŠ¥
* #### 2-5. ê³µìœ  ğŸ”„
  * ìì‹ ê³¼ ìƒëŒ€ë°©ì˜ ìº˜ë¦°ë”ë¥¼ ê³µìœ 
  * ì–‘ë°©í–¥ ê´€ê³„ê°€ ì„±ë¦½ëœë‹¤ë©´ ì„œë¡œì˜ ìº˜ë¦°ë”ë¥¼ ê³µìœ 
  * ë‹¨ë°©í–¥ ê´€ê³„ê°€ ì„±ë¦½ëœë‹¤ë©´ ìì‹ ì˜ ìº˜ë¦°ë”ë§Œ ë³´ì—¬ì£¼ê³  ìƒëŒ€ë°© ìº˜ë¦°ë”ëŠ” ë³¼ ìˆ˜ ì—†ìŒ

---
## 3. ê¸°ìˆ  ìŠ¤íƒ
* #### Java JDK 11
* #### Spring Boot 2.5.2
  * Spring MVC
  * Spring JPA
  * Spring Batch
  * Spring Mail
* #### ê¸°íƒ€
  * thymeleaf(í…œí”Œë¦¿ ì—”ì§„)
  * jbcrypt(íŒ¨ìŠ¤ì›Œë“œ ì•”í˜¸í™”)
  * lombok
  * junit(í…ŒìŠ¤íŠ¸)
  * gradle(í”„ë¡œì íŠ¸ ê´€ë¦¬)
  * docker
  * mysql
  * git
  * postman

---
## 4. íŒ¨í‚¤ì§• êµ¬ì¡°
* ### API(APIì™€ DTO ê´€ë ¨ í´ë˜ìŠ¤ë“¤)
![api íŒ¨í‚¤ì§•1](https://user-images.githubusercontent.com/64354998/170936347-302d169e-f55e-4188-99a8-323fa9e3ffbc.PNG)
###
![api íŒ¨í‚¤ì§•2](https://user-images.githubusercontent.com/64354998/170937000-76a0cf0c-17ab-438f-a02d-6ad8f5ec89af.PNG)
* ### Batch(ë°°ì¹˜ ê´€ë ¨ í´ë˜ìŠ¤ë“¤)
![batch íŒ¨í‚¤ì§•1](https://user-images.githubusercontent.com/64354998/170936898-37efc6f2-7250-400c-813d-63cc2e181494.PNG)
* ### Core(ì—”í‹°í‹°ì™€ DTO ê´€ë ¨ í´ë˜ìŠ¤ë“¤)
![core íŒ¨í‚¤ì§•1](https://user-images.githubusercontent.com/64354998/170937279-7b444901-40c0-42bb-a28f-fdbe5aab478f.PNG)

---
## 5. í´ë˜ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
![](https://user-images.githubusercontent.com/64354998/170933966-a9c78426-3417-45b7-a71a-b59f905bee37.PNG)

---
## 6. ì£¼ìš” ê¸°ëŠ¥
#### 1. ì„¸ì…˜ìœ¼ë¡œ ìœ ì € ì¸ì¦
![AuthUserResolver](https://user-images.githubusercontent.com/64354998/170941796-774fdc24-217b-46be-9939-e1958981d85b.PNG)
###
![Webconfig](https://user-images.githubusercontent.com/64354998/170941911-02bab4ef-80f6-4d3e-9e98-c0b0dce7a553.PNG)
##### ì¸ì¦(ì„¸ì…˜ì´ ìˆëŠ”)ëœ ìœ ì €ì„ì„ ì¸ì¦í•˜ê¸° ìœ„í•˜ì—¬ HandlerMethodArgumentResolverë¥¼ ìƒì†í›„ ì„¸ì…˜ ê°’ì„ í™•ì¸í•˜ì—¬ AuthUser ë¦¬í„´
#### 2. ì•½ì† ë§¤ì¹­ ì´ë©”ì¼ ì „ì†¡ ê¸°ëŠ¥
![emailservice](https://user-images.githubusercontent.com/64354998/170943723-e34468a4-4e87-498f-b0b2-e3b4d080aeb7.PNG)
###
![emailstuff](https://user-images.githubusercontent.com/64354998/170943808-d339f3f0-27a4-4aed-99a8-a31c1da1d9e0.PNG)
##### MimeMessagePreparator, MimeMessageHelper, JavaMailSenderë¥¼ ì´ìš©í•˜ì—¬  ì•½ì† ë§¤ì¹­ì„ ìœ„í•œ ì´ë©”ì¼ ì „ì†¡, ìƒëŒ€ë°©ì´ ìˆ˜ë½ì„ ëˆ„ë¥¸ë‹¤ë©´ ìƒì„±ëœ Engagement ì—”í‹°í‹°ì˜ ìƒíƒœë¥¼ ë‹´ë‹¹í•˜ëŠ” Enumíƒ€ì…ì¸ RequestStatusëŠ” ACCEPTEDë¡œ ë³€ê²½ë˜ê³  ê±°ì ˆì„ ëˆ„ë¥¸ë‹¤ë©´ REJECTEDë¡œ, ë©”ì¼ì„ ë³´ì§€ì•ŠëŠ”ë‹¤ë©´ REQUESTEDë¡œ ìœ ì§€ê°€ ë˜ì–´ DBì— ì˜ì†í™”
#### 3. ìº˜ë¦°ë” ê³µìœ  ìš”ì²­ ê¸°ëŠ¥
![sharecontroller](https://user-images.githubusercontent.com/64354998/170946151-952cb6a1-4394-4a13-a8fa-3d1fd919d192.PNG)
###
![shareservice](https://user-images.githubusercontent.com/64354998/170946503-c13c900b-3a30-4fe3-bb46-99e72f3e9025.PNG)
##### ê³µìœ ì‘ë‹µì„ ë‹´ë‹¹í•˜ëŠ” apiê°€ í˜¸ì¶œë˜ë©´ ShareServiceì˜ replyToShareRequest ë©”ì„œë“œê°€ í˜¸ì¶œë˜ê³  ì¸ìë¡œ ë„˜ì–´ì˜¨ replyReqì˜ typeì„ ë³´ê³  dbì— ì˜ì†í™”ëœ Share ì—”í‹°í‹°ì˜ ìƒíƒœë¥¼ Engagementì™€ ë˜‘ê°™ì€ ë°©ì‹ìœ¼ë¡œ ìˆ˜ë½, ê±°ì ˆ, ë³´ë¥˜ ê´€ë¦¬
#### 4. ìº˜ë¦°ë” ê³µìœ  ì¡°íšŒ ê¸°ëŠ¥
![sharecontroller2](https://user-images.githubusercontent.com/64354998/170947220-4566da8a-1bf4-4130-b2ac-b7428c27334f.PNG)
###
![shareservice2](https://user-images.githubusercontent.com/64354998/170947241-9e582ab3-d8d9-4516-930b-0ecea1445a5c.PNG)
##### ê³µìœ ìš”ì²­ì„ ë‹´ë‹¹í•˜ëŠ” apiê°€ í˜¸ì¶œë˜ë©´ ShareServiceì˜ findSharedUserIdsByUser ë©”ì„œë“œê°€ í˜¸ì¶œë˜ê³  ì¸ìë¡œ ë„˜ì–´ì˜¨ AuthUserë¡œ ì–‘ë°©í–¥ ê³µìœ  ê´€ê³„ì™€ ë‹¨ë°©í–¥ ê³µìœ  ê´€ê³„ì˜ Userë“¤ì„ ëª¨ë‘ ì°¾ì•„ ë¦¬í„´
#### 5. ì•Œë¦¼ ë°°ì¹˜ ì‹œìŠ¤í…œ
![batch](https://user-images.githubusercontent.com/64354998/170948483-e305b687-227a-4df8-9df1-66d752204b03.PNG)
##### Engagementì™€ Schedule ë°°ì¹˜ ì‹œìŠ¤í…œì„ ìœ„í•˜ì—¬ JdbcCursorItemReader í´ë˜ìŠ¤ë¥¼ êµ¬í˜„í•˜ì—¬ User ì—”í‹°í‹°ì™€ ì¡°ì¸í•˜ëŠ” sqlë¬¸ì„ ì‘ì„±

---
## 7. Postmanê³¼ í˜¸ìŠ¤íŠ¸ ì„œë²„ë¥¼ ì´ìš©í•œ ê²°ê³¼ë¬¼
* ### íšŒì›ê°€ì…
![signup](https://user-images.githubusercontent.com/64354998/170968967-84843a3e-bcf2-45f4-9abd-9002c41291d7.gif)
###
![select users;](https://user-images.githubusercontent.com/64354998/170969182-8556e731-7fcf-4d21-b92a-cdcf7dcb4a5e.PNG)
* ### schedule ìƒì„±
![create task](https://user-images.githubusercontent.com/64354998/170969332-e10965d2-8243-418c-a7c6-9f63500ebc0c.PNG)
###
![create event](https://user-images.githubusercontent.com/64354998/170969473-5c643b2b-1be8-497e-bc1d-b3b33afba43d.PNG)
##### ìì‹ ê³¼ ìƒëŒ€ë°©ì˜ ì•½ì† ë§¤ì¹­ API í˜¸ì¶œ
![create event3](https://user-images.githubusercontent.com/64354998/170969880-2816a443-7d43-4847-aef9-4bcb095347cb.PNG)
##### ìƒëŒ€ë°©ì—ê²Œ ë©”ì‹œì§€ ì „ë‹¬
![ì´ë²¤íŠ¸ ìˆ˜ë½](https://user-images.githubusercontent.com/64354998/170970185-017d8628-86ac-4d22-80d3-619840406f4b.PNG)
##### ì´ë²¤íŠ¸ ìˆ˜ë½ í›„ engagement ì—”í‹°í‹° ìƒíƒœëŠ” Requested -> Accepted
![ì´ë²¤íŠ¸ ìˆ˜ë½](https://user-images.githubusercontent.com/64354998/170970525-0f311757-0601-46af-8b79-476c22445bcd.PNG)
###
![ì´ë²¤íŠ¸ ìˆ˜ë½2](https://user-images.githubusercontent.com/64354998/170970666-6510d5ed-b486-43c4-aaaa-a36acf334c0b.PNG)
* ### ê³µìœ  ê´€ê³„ ì„±ë¦½
##### ìƒëŒ€ë°©ì—ê²Œ ê³µìœ  ê´€ê³„ ìš”ì²­
![create share](https://user-images.githubusercontent.com/64354998/170974418-5806eefd-731e-450f-824f-73b0f71789de.PNG)
##### request_status ê°€ Requestedì¸ Share ì—”í‹°í‹° ìƒì„±
![select shares4](https://user-images.githubusercontent.com/64354998/170974800-c8d463f9-b4ac-4ec3-8d6b-b3b06b736a07.PNG)
###
![select shares2](https://user-images.githubusercontent.com/64354998/170974873-32938943-c25c-49a7-be9c-18dd3e34f9e4.PNG)
##### ìƒëŒ€ë°©ì´ request_statusë¥¼ ìˆ˜ë½
![select shares3](https://user-images.githubusercontent.com/64354998/170975009-a0ef1922-a6cb-4965-95ad-b0976d31fe75.PNG)
##### ê·¸ ê²°ê³¼ ì„œë¡œì˜ ìº˜ë¦°ë” ê³µìœ 

---
## 8. ì¶”í›„ ê°œì„ ì‚¬í•­
* ì‚¬ì‹¤ ë°°ì¹˜ ì‹œìŠ¤í…œì´ë¼ í•˜ë©´ ìµœì¢… ì‚¬ìš©ìì˜ ê°œì… ì—†ì´ ë˜ëŠ” (ìì›ì´ í—ˆê°€í•œë‹¤ë©´) ì‹¤í–‰ì„ ìŠ¤ì¼€ì¤„ë§í•  ìˆ˜ ìˆëŠ” ì‘ì—…(job)ì˜ ì‹¤í–‰ì„ ì˜ë¯¸í•œë‹¤. í•˜ì§€ë§Œ ì´ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìŠ¤í”„ë§ ë°°ì¹˜ë¡œ reader, writerë¥¼ êµ¬í˜„í•˜ì˜€ì§€ë§Œ cronì„ ì„¤ì •í•˜ì§€ ëª»í•˜ì˜€ë‹¤. í•˜ë£¨ ë¹¨ë¦¬ ë¬¸ì œì ì„ ì°¾ê³  cronì„ ì„¤ì •í•˜ì—¬ ì™„ì „í•œ ë°°ì¹˜ ì‹œìŠ¤í…œìœ¼ë¡œ ì„¤ì •í•´ì•¼í•œë‹¤. ë˜í•œ ì•„ì§ ì„ì‹œë¡œ ì¶œë ¥í•˜ê²Œ í•œ ì•ŒëŒ ë°°ì¹˜ ìª½ë„ ë‹¤ë“¬ì–´ì•¼í•œë‹¤.
* ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì— ì„œë²„ì—ì„œë§Œ ëŒì•„ê°€ê¸°ì— Jenkinsì™€ AWSë¥¼ ê³µë¶€í•˜ì—¬ ì™„ì „í•œ ë°°í¬ê¹Œì§€ í•´ë³´ëŠ” ê²ƒì´ ëª©í‘œì´ë‹¤.

---
### 9. ëŠë‚€ì 
##### ì¼ë‹¨ì€ ë‹¤ì¤‘ ëª¨ë“ˆë¡œ ì‹œì‘ì„ í•˜ì—¬ ì˜ì¡´ì„±ì„ ê³„ì¸µ ë³„ë¡œ ê´€ë¦¬í•˜ëŠ” ìŠ¤í‚¬ê³¼
